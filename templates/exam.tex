%%% exam.tex
%%% Pandoc template for exams
%%% Created by Eric M. Fink (https://github.com/LuckyJimJD/pandoc-templates)
%%%

% ====================
% = Layout & Spacing =
% ====================

\documentclass[11pt,letterpaper,twoside]{article}

\usepackage[hmarginratio=1:1,top=1in,bottom=.75in,left=1.5in,right=1.5in]{geometry}

\usepackage{setspace}
\usepackage{ragged2e}
\RaggedRight
\usepackage[none]{hyphenat}
\setlength{\parindent}{0em}
\setlength{\parskip}{1em}
\raggedbottom


\setlength{\emergencystretch}{3em} % prevent overfull lines

\usepackage{multicol}

% ==========================
% = Language & Date Format =
% ==========================

\usepackage[english]{babel}
% \usepackage[us,nodayofweek]{datetime}
\usepackage[nodayofweek]{datetime}
\newdateformat{mydate}{\THEDAY -\shortmonthname -\THEYEAR}

% ==================
% = Colors & Fonts =
% ==================

\usepackage[table]{xcolor}
\definecolor{myblack}{HTML}{231F20}
\definecolor{mybrightred}{HTML}{EC1F27}
\definecolor{mydarkred}{HTML}{8C2E24}
\definecolor{mydarkblue}{HTML}{154360}
\definecolor{mylightblue}{HTML}{3498DB}
\definecolor{lightgrey}{HTML}{DCDCDC}
\definecolor{mydarkgreen}{HTML}{009f06}

\usepackage{fontspec}

\setmainfont{Cormorant Garamond}[Mapping={tex-text},SmallCapsFont={Cormorant SC}]

\setsansfont{Proza Libre}[Mapping=tex-text]

\setmonofont{Cousine}[Mapping=tex-text,Scale=0.8]

\newfontface\titlefont{Proza Libre Bold}[Colour=mydarkred]

% =======================
% = Headers and Footers =
% =======================

\usepackage{fancyhdr}
\pagestyle{fancy}

\fancyfoot[C]{}
\fancyfoot[R]{\tiny\texttt{Revised: \today}}
\fancyfoot[L]{}

$if(subtitle)$
\fancyhead[CE]{\small{$title$}}
\fancyhead[CO]{\small{$subtitle$}}
\fancyhead[LE]{\small{\thepage}}
\fancyhead[LO]{\small{$date$}}
\fancyhead[RE]{\small{$author$}}
\fancyhead[RO]{\small{\thepage}}
$else$
\fancyhead[C]{\small{$title$}}
\fancyhead[LE]{\small{\thepage}}
\fancyhead[LO]{\small{$date$}}
\fancyhead[RE]{\small{$author$}}
\fancyhead[RO]{\small{\thepage}}
$endif$


% ============
% = Headings =
% ============

\usepackage[compact]{titlesec}
% \titlespacing*{<command>}{<left>}{<before-sep>}{<after-sep>}

\titlespacing*{\section}{0em}{1.5em}{.5em}
\titlespacing*{\subsection}{0em}{1em}{.2em}
\titlespacing*{\subsubsection}{0em}{0em}{0em}
\titlespacing*{\paragraph}{0em}{0em}{0em}
\titlespacing*{\subparagraph}{0em}{0em}{0em}

$if(secnumdepth)$
\setcounter{secnumdepth}{$secnumdepth$}
$else$
\setcounter{secnumdepth}{0}
$endif$

% \titleformat{hcommand}[hshape]
%   {hformat}
%   {hlabel}
%   {hsep}
%   {hbefore-code}[hafter-code]

\titleformat{\section}[hang]
  {\Large\titlefont}
  {\thesection}
  {1em}
  {}
\titleformat{\subsection}[hang]
  {\large\titlefont}
  {\thesubsection}
  {1em}
  {}
\titleformat{\subsubsection}[hang]
  {\normalsize\bfseries\sffamily}
  {\thesubsubsection}
  {1em}
  {}
\titleformat{\paragraph}[hang]
  {\normalsize\bfseries\rmfamily}
  {\theparagraph}
  {1em}
  {}
\titleformat{\subparagraph}[hang]
  {\normalsize\itshape\rmfamily}
  {\thesubparagraph}
  {1em}
  {}


% =========
% = Lists =
% =========

\usepackage{enumitem}
\setlistdepth{6}

% \setlist[itemize,1]{label=\textbullet}
% \setlist[itemize,2]{label=\textopenbullet}
% \setlist[itemize,3]{label=\textperiodcentered}
% \setlist[itemize,4]{label=\textendash}
% \setlist[itemize,5]{label=\diamond}
% \setlist[itemize,6]{label=\textopenbullet}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0em}\setlength{\parskip}{.5em}}

% \setlist{nosep}
% \setlist[enumerate]{itemindent=0em}
% \setlist[enumerate,1]{itemindent=0em}

\setlist[itemize]{leftmargin=*,topsep=0em,itemsep=.2em,partopsep=0em,parsep=0em,align=left}
\setlist[enumerate]{leftmargin=*,topsep=0.5em,itemsep=0.2em,partopsep=0em,parsep=0em,align=left}



% ==========
% = Quotes =
% ==========

\usepackage{csquotes}

\AtBeginEnvironment{quote}{\small\itshape}

\renewenvironment{quote}{%
   \list{}{%
     \leftmargin2em   % this is the adjusting screw
     \rightmargin\leftmargin\parsep 0mm }
   \item\relax
}
{\endlist}

% ==========
% = Tables =
% ==========

\usepackage{longtable}
\usepackage{supertabular,booktabs}

% $if(norule)$
% \setlength\heavyrulewidth{$norule$}
% \setlength\lightrulewidth{$norule$}
% $endif$


% $if(tableflush)$
% \usepackage{floatrow}
%
% \floatsetup[table]{style=ruled,
%   objectset=raggedright,
%   margins=raggedright,
%   midcode=captionskip,
%   captionskip=10pt}
% $endif$
%
% \floatsetup[figure]{%
%   objectset=raggedright,
%   margins=raggedright,
%   midcode=captionskip,
%   captionskip=10pt}

% ==============
% = Separators =
% ==============

\newcommand{\halfsep}{%
    \textcolor{mydarkred}{\noindent\hfil\rule{.5\textwidth}{.5pt}\hfil} 
}

\newcommand*{\fullsep}{%
  \par
  \begingroup
    \centering
    \raisebox{.2\baselineskip}{%
      \textcolor{mydarkred}{\rule{\linewidth}{2pt}}%
    }%
    \par
  \endgroup
}


% ============
% = Graphics =
% ============


\usepackage[justification=centering,font={scriptsize},skip=1em]{caption}
% Sizes: scriptsize, footnotesize, small, normalsize, large, Large
\captionsetup[figure]{labelformat=empty,width=.8\linewidth}

\usepackage{float}
\let\origfigure\figure
\let\endorigfigure\endfigure
\renewenvironment{figure}[1][2] {
    \expandafter\origfigure\expandafter[H]
} {
    \endorigfigure
}

\usepackage[export]{adjustbox}% http://ctan.org/pkg/adjustbox
\let\oldincludegraphics\includegraphics
\renewcommand{\includegraphics}[2][]{%
  \oldincludegraphics[#1,max width=.75\linewidth]{#2}}


% =============
% = Footnotes =
% =============

\usepackage[hang,flushmargin]{footmisc}

% ==============
% = Hyperlinks =
% ==============

\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=mydarkblue,
  citecolor=mydarkgreen,
  urlcolor=mydarkred,
  pdftitle={$title$},
  pdfauthor={$author$},
  pdfcreator={LaTeX via pandoc}}
\urlstyle{sf}

% ==============================================================================
% =============================== BEGIN DOCUMENT ===============================
% ==============================================================================

\begin{document}
\thispagestyle{empty}
\singlespacing

\begin{flushleft}

\rmfamily\normalsize{$title$} \hfill\normalsize{\rmfamily\bfseries{Exam ID: }}\rule{3cm}{0.4pt}\\
\rmfamily\normalsize{Professor Fink} \\
\rmfamily\normalsize{Elon Law School}\\
\rmfamily\normalsize{$date$}\\
$if(subtitle)$
\vspace{.6cm}
\titlefont\large{$subtitle$} \\
$endif$

\end{flushleft}

$body$

\end{document}

% END OF EXAM TEMPLATE



